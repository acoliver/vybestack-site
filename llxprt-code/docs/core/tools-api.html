<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LLxprt Code Core: Tools API | LLxprt Code Docs</title>
  <link rel="stylesheet" href="../../../vybestack.css" />
</head>
<body>

  <nav>
    <div class="nav-container">
      <div class="nav-left">
        <a href="/" class="logo">
          <img src="/assets/vybestack_logo.png" alt="Vybestack" />
        </a>
        <span class="tagline">Beyond Vibe Coding</span>
      </div>
      <div class="nav-right">
        <div class="nav-dropdown">
          <a href="/llxprt-code.html">LLxprt Code</a>
          <div class="nav-dropdown-menu">
            <a href="/llxprt-code.html">Overview</a>
            <a href="/llxprt-code/docs/">Documentation</a>
          </div>
        </div>
        <a href="/jefe.html">LLxprt Jefe</a>
        <a href="/blog/">Blog</a>
        <a href="/#podcast">Podcast</a>
        <a href="https://discord.gg/Wc6dZqWWYv" target="_blank">Discord</a>
      </div>
    </div>
  </nav>


  <section class="section docs-section">
    <div class="container-wide">
      <div class="docs-layout">

      <nav class="docs-sidebar">
        <h3><a href="/llxprt-code/docs/">Documentation</a></h3>
        <ul>
          <li><a href="/llxprt-code/docs/getting-started.html">Getting Started Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/providers.html">Provider Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/authentication.html">Authentication</a></li>
          <li><a href="/llxprt-code/docs/cli/profiles.html">Profiles</a></li>
          <li><a href="/llxprt-code/docs/sandbox.html">Sandboxing</a></li>
          <li><a href="/llxprt-code/docs/subagents.html">Subagents</a></li>
          <li><a href="/llxprt-code/docs/oauth-setup.html">OAuth Setup</a></li>
          <li><a href="/llxprt-code/docs/local-models.html">Local Models</a></li>
          <li><a href="/llxprt-code/docs/zed-integration.html">Zed Editor Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/providers-openai-responses.html">OpenAI Responses API</a></li>
          <li><a href="/llxprt-code/docs/prompt-configuration.html">Prompt Configuration</a></li>
          <li><a href="/llxprt-code/docs/settings-and-profiles.html">Settings and Profiles</a></li>
          <li><a href="/llxprt-code/docs/checkpointing.html">Checkpointing</a></li>
          <li><a href="/llxprt-code/docs/extension.html">Extensions</a></li>
          <li><a href="/llxprt-code/docs/ide-integration.html">IDE Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/configuration.html">Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/commands.html">Commands Reference</a></li>
          <li><a href="/llxprt-code/docs/troubleshooting.html">Troubleshooting Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/index.html">CLI Introduction</a></li>
          <li><a href="/llxprt-code/docs/deployment.html">Execution and Deployment</a></li>
          <li><a href="/llxprt-code/docs/keyboard-shortcuts.html">Keyboard Shortcuts</a></li>
          <li><a href="/llxprt-code/docs/cli/themes.html">Themes</a></li>
          <li><a href="/llxprt-code/docs/EMOJI-FILTER.html">Emoji Filter</a></li>
          <li><a href="/llxprt-code/docs/cli/runtime-helpers.html">Runtime helper APIs</a></li>
          <li><a href="/llxprt-code/docs/cli/context-dumping.html">Context Dumping</a></li>
          <li><a href="/llxprt-code/docs/telemetry.html">Telemetry</a></li>
          <li><a href="/llxprt-code/docs/telemetry-privacy.html">Telemetry Privacy</a></li>
          <li><a href="/llxprt-code/docs/gemini-cli-tips.html">Migration from Gemini CLI</a></li>
          <li><a href="/llxprt-code/docs/architecture.html">Architecture Overview</a></li>
          <li><a href="/llxprt-code/docs/core/index.html">Core Introduction</a></li>
          <li><a href="/llxprt-code/docs/core/provider-runtime-context.html">Provider runtime context</a></li>
          <li><a href="/llxprt-code/docs/core/provider-interface.html">Provider interface</a></li>
          <li><a href="/llxprt-code/docs/core/tools-api.html">Tools API</a></li>
          <li><a href="/llxprt-code/docs/core/memport.html">Memory Import Processor</a></li>
          <li><a href="/llxprt-code/docs/shell-replacement.html">Shell Replacement</a></li>
          <li><a href="/llxprt-code/docs/../CONTRIBUTING.html">Contributing & Development Guide</a></li>
          <li><a href="/llxprt-code/docs/npm.html">NPM Workspaces and Publishing</a></li>
          <li><a href="/llxprt-code/docs/migration/stateless-provider.html">Stateless provider migration</a></li>
          <li><a href="/llxprt-code/docs/tools/index.html">Tools Overview</a></li>
          <li><a href="/llxprt-code/docs/tools/file-system.html">File System Tools</a></li>
          <li><a href="/llxprt-code/docs/tools/multi-file.html">Multi-File Read Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/shell.html">Shell Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/mcp-server.html">MCP Server</a></li>
          <li><a href="/llxprt-code/docs/tools/web-fetch.html">Web Fetch Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/web-search.html">Web Search Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/memory.html">Memory Tool</a></li>
          <li><a href="/llxprt-code/docs/release-notes/stateless-provider.html">Release notes: Stateless Provider</a></li>
          <li><a href="/llxprt-code/docs/tos-privacy.html">Terms of Service and Privacy Notice</a></li>
        </ul>
      </nav>
        <div class="docs-content">
          <div class="blog-post-content">
            <h1>LLxprt Code Core: Tools API</h1>
<p>The LLxprt Code core (<code>packages/core</code>) features a robust system for defining, registering, and executing tools. These tools extend the capabilities of the Gemini model, allowing it to interact with the local environment, fetch web content, and perform various actions beyond simple text generation.</p>
<h2>Core Concepts</h2>
<ul>
<li>
<p><strong>Tool (<code>tools.ts</code>):</strong> An interface and base class (<code>BaseTool</code>) that defines the contract for all tools. Each tool must have:</p>
<ul>
<li><code>name</code>: A unique internal name (used in API calls to Gemini).</li>
<li><code>displayName</code>: A user-friendly name.</li>
<li><code>description</code>: A clear explanation of what the tool does, which is provided to the Gemini model.</li>
<li><code>parameterSchema</code>: A JSON schema defining the parameters that the tool accepts. This is crucial for the Gemini model to understand how to call the tool correctly.</li>
<li><code>validateToolParams()</code>: A method to validate incoming parameters.</li>
<li><code>getDescription()</code>: A method to provide a human-readable description of what the tool will do with specific parameters before execution.</li>
<li><code>shouldConfirmExecute()</code>: A method to determine if user confirmation is required before execution (e.g., for potentially destructive operations).</li>
<li><code>execute()</code>: The core method that performs the tool's action and returns a <code>ToolResult</code>.</li>
</ul>
</li>
<li>
<p><strong><code>ToolResult</code> (<code>tools.ts</code>):</strong> An interface defining the structure of a tool's execution outcome:</p>
<ul>
<li><code>llmContent</code>: The factual content to be included in the history sent back to the LLM for context. This can be a simple string or a <code>PartListUnion</code> (an array of <code>Part</code> objects and strings) for rich content.</li>
<li><code>returnDisplay</code>: A user-friendly string (often Markdown) or a special object (like <code>FileDiff</code>) for display in the CLI.</li>
</ul>
</li>
<li>
<p><strong>Returning Rich Content:</strong> Tools are not limited to returning simple text. The <code>llmContent</code> can be a <code>PartListUnion</code>, which is an array that can contain a mix of <code>Part</code> objects (for images, audio, etc.) and <code>string</code>s. This allows a single tool execution to return multiple pieces of rich content.</p>
</li>
<li>
<p><strong>Tool Registry (<code>tool-registry.ts</code>):</strong> A class (<code>ToolRegistry</code>) responsible for:</p>
<ul>
<li><strong>Registering Tools:</strong> Holding a collection of all available built-in tools (e.g., <code>ReadFileTool</code>, <code>ShellTool</code>).</li>
<li><strong>Discovering Tools:</strong> It can also discover tools dynamically:
<ul>
<li><strong>Command-based Discovery:</strong> If <code>toolDiscoveryCommand</code> is configured in settings, this command is executed. It's expected to output JSON describing custom tools, which are then registered as <code>DiscoveredTool</code> instances.</li>
<li><strong>MCP-based Discovery:</strong> If <code>mcpServerCommand</code> is configured, the registry can connect to a Model Context Protocol (MCP) server to list and register tools (<code>DiscoveredMCPTool</code>).</li>
</ul>
</li>
<li><strong>Providing Schemas:</strong> Exposing the <code>FunctionDeclaration</code> schemas of all registered tools to the Gemini model, so it knows what tools are available and how to use them.</li>
<li><strong>Retrieving Tools:</strong> Allowing the core to get a specific tool by name for execution.</li>
</ul>
</li>
</ul>
<h2>Built-in Tools</h2>
<p>The core comes with a suite of pre-defined tools, typically found in <code>packages/core/src/tools/</code>. These include:</p>
<ul>
<li><strong>File System Tools:</strong>
<ul>
<li><code>LSTool</code> (<code>ls.ts</code>): Lists directory contents.</li>
<li><code>ReadFileTool</code> (<code>read-file.ts</code>): Reads the content of a single file. It takes an <code>absolute_path</code> parameter, which must be an absolute path.</li>
<li><code>WriteFileTool</code> (<code>write-file.ts</code>): Writes content to a file.</li>
<li><code>GrepTool</code> (<code>grep.ts</code>): Searches for patterns in files using ripgrep.</li>
<li><code>GlobTool</code> (<code>glob.ts</code>): Finds files matching glob patterns.</li>
<li><code>EditTool</code> (<code>edit.ts</code>): Performs in-place modifications to files (often requiring confirmation).</li>
<li><code>ReadManyFilesTool</code> (<code>read-many-files.ts</code>): Reads and concatenates content from multiple files or glob patterns (used by the <code>@</code> command in CLI).</li>
</ul>
</li>
<li><strong>Execution Tools:</strong>
<ul>
<li><code>ShellTool</code> (<code>shell.ts</code>): Executes arbitrary shell commands (requires careful sandboxing and user confirmation).</li>
</ul>
</li>
<li><strong>Web Tools:</strong>
<ul>
<li><code>WebFetchTool</code> (<code>web-fetch.ts</code>): Fetches content from a URL. <strong>Note:</strong> Currently requires a Gemini/Google API key or OAuth authentication to Google. Future releases will support configuration with other providers.</li>
<li><code>WebSearchTool</code> (<code>web-search.ts</code>): Performs a web search. <strong>Note:</strong> Currently requires a Gemini/Google API key or OAuth authentication to Google. Future releases will support configuration with other providers.</li>
</ul>
</li>
<li><strong>Memory Tools:</strong>
<ul>
<li><code>MemoryTool</code> (<code>memoryTool.ts</code>): Interacts with the AI's memory (<a href="http://LLXPRT.md/AGENTS.md">LLXPRT.md/AGENTS.md</a> files).</li>
</ul>
</li>
<li><strong>Task Management Tools:</strong>
<ul>
<li><code>TodoWrite</code>: Creates and manages task lists for tracking work.</li>
<li><code>TodoRead</code>: Reads the current task list.</li>
<li><code>TodoPause</code>: Pauses task tracking.</li>
</ul>
</li>
</ul>
<p>Each of these tools extends <code>BaseTool</code> and implements the required methods for its specific functionality.</p>
<h2>Tool Execution Flow</h2>
<ol>
<li><strong>Model Request:</strong> The Gemini model, based on the user's prompt and the provided tool schemas, decides to use a tool and returns a <code>FunctionCall</code> part in its response, specifying the tool name and arguments.</li>
<li><strong>Core Receives Request:</strong> The core parses this <code>FunctionCall</code>.</li>
<li><strong>Tool Retrieval:</strong> It looks up the requested tool in the <code>ToolRegistry</code>.</li>
<li><strong>Parameter Validation:</strong> The tool's <code>validateToolParams()</code> method is called.</li>
<li><strong>Confirmation (if needed):</strong>
<ul>
<li>The tool's <code>shouldConfirmExecute()</code> method is called.</li>
<li>If it returns details for confirmation, the core communicates this back to the CLI, which prompts the user.</li>
<li>The user's decision (e.g., proceed, cancel) is sent back to the core.</li>
</ul>
</li>
<li><strong>Execution:</strong> If validated and confirmed (or if no confirmation is needed), the core calls the tool's <code>execute()</code> method with the provided arguments and an <code>AbortSignal</code> (for potential cancellation).</li>
<li><strong>Result Processing:</strong> The <code>ToolResult</code> from <code>execute()</code> is received by the core.</li>
<li><strong>Response to Model:</strong> The <code>llmContent</code> from the <code>ToolResult</code> is packaged as a <code>FunctionResponse</code> and sent back to the Gemini model so it can continue generating a user-facing response.</li>
<li><strong>Display to User:</strong> The <code>returnDisplay</code> from the <code>ToolResult</code> is sent to the CLI to show the user what the tool did.</li>
</ol>
<h2>Extending with Custom Tools</h2>
<p>While direct programmatic registration of new tools by users isn't explicitly detailed as a primary workflow in the provided files for typical end-users, the architecture supports extension through:</p>
<ul>
<li><strong>Command-based Discovery:</strong> Advanced users or project administrators can define a <code>toolDiscoveryCommand</code> in <code>settings.json</code>. This command, when run by the LLxprt Code core, should output a JSON array of <code>FunctionDeclaration</code> objects. The core will then make these available as <code>DiscoveredTool</code> instances. The corresponding <code>toolCallCommand</code> would then be responsible for actually executing these custom tools.</li>
<li><strong>MCP Server(s):</strong> For more complex scenarios, one or more MCP servers can be set up and configured via the <code>mcpServers</code> setting in <code>settings.json</code>. The LLxprt Code core can then discover and use tools exposed by these servers. As mentioned, if you have multiple MCP servers, the tool names will be prefixed with the server name from your configuration (e.g., <code>serverAlias__actualToolName</code>).</li>
</ul>
<h2>Tool Availability by Provider</h2>
<p><strong>Important Notes:</strong></p>
<ul>
<li>Web tools (<code>WebFetchTool</code> and <code>WebSearchTool</code>) currently require Google/Gemini authentication (API key or OAuth). Support for other providers is planned for future releases.</li>
<li>Most file system and execution tools work with all providers.</li>
<li>The agent system (<code>TaskTool</code>) is unique to LLxprt Code and works with all providers.</li>
</ul>
<p>This tool system provides a flexible and powerful way to augment the AI model's capabilities, making LLxprt Code a versatile assistant for a wide range of development tasks.</p>

          </div>
        </div>
      </div>
    </div>
  </section>


  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>Vybestack</h4>
        <p>Beyond vibe coding. Autonomous development for ascending engineers.</p>
      </div>
      <div class="footer-section">
        <h4>Products</h4>
        <ul>
          <li><a href="/llxprt-code.html">LLxprt Code</a></li>
          <li><a href="/jefe.html">LLxprt Jefe</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Content</h4>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/#podcast">Podcast</a></li>
          <li><a href="/llxprt-code/docs/">Documentation</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Connect</h4>
        <ul class="social-links">
<li><a href="https://github.com/vybestack/llxprt-code"><img src="/assets/icons/github.svg" alt="GitHub" /> </a></li>
<li><a href="https://discord.gg/Wc6dZqWWYv"><img src="/assets/icons/discord.svg" alt="Discord" /></a></li>
<li><a href="https://www.linkedin.com/company/vybestack/"><img src="/assets/icons/linkedin.svg" alt="LinkedIn" /></a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Vybestack. Apache 2.0 License. Built for the terminal.</p>
    </div>
  </footer>

</body>
</html>