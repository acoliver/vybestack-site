<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Context Dumping | LLxprt Code Docs</title>
  <link rel="stylesheet" href="../../../vybestack.css" />
</head>
<body>

  <nav>
    <div class="nav-container">
      <div class="nav-left">
        <a href="/" class="logo">
          <img src="/assets/vybestack_logo.png" alt="Vybestack" />
        </a>
        <span class="tagline">Beyond Vibe Coding</span>
      </div>
      <div class="nav-right">
        <div class="nav-dropdown">
          <a href="/llxprt-code.html">LLxprt Code</a>
          <div class="nav-dropdown-menu">
            <a href="/llxprt-code.html">Overview</a>
            <a href="/llxprt-code/docs/">Documentation</a>
          </div>
        </div>
        <a href="/jefe.html">LLxprt Jefe</a>
        <a href="/blog/">Blog</a>
        <a href="/#podcast">Podcast</a>
        <a href="https://discord.gg/Wc6dZqWWYv" target="_blank">Discord</a>
      </div>
    </div>
  </nav>


  <section class="section docs-section">
    <div class="container-wide">
      <div class="docs-layout">

      <nav class="docs-sidebar">
        <h3><a href="/llxprt-code/docs/">Documentation</a></h3>
        <ul>
          <li><a href="/llxprt-code/docs/getting-started.html">Getting Started Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/providers.html">Provider Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/authentication.html">Authentication</a></li>
          <li><a href="/llxprt-code/docs/cli/profiles.html">Profiles</a></li>
          <li><a href="/llxprt-code/docs/sandbox.html">Sandboxing</a></li>
          <li><a href="/llxprt-code/docs/subagents.html">Subagents</a></li>
          <li><a href="/llxprt-code/docs/oauth-setup.html">OAuth Setup</a></li>
          <li><a href="/llxprt-code/docs/local-models.html">Local Models</a></li>
          <li><a href="/llxprt-code/docs/zed-integration.html">Zed Editor Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/providers-openai-responses.html">OpenAI Responses API</a></li>
          <li><a href="/llxprt-code/docs/prompt-configuration.html">Prompt Configuration</a></li>
          <li><a href="/llxprt-code/docs/settings-and-profiles.html">Settings and Profiles</a></li>
          <li><a href="/llxprt-code/docs/checkpointing.html">Checkpointing</a></li>
          <li><a href="/llxprt-code/docs/extension.html">Extensions</a></li>
          <li><a href="/llxprt-code/docs/ide-integration.html">IDE Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/configuration.html">Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/commands.html">Commands Reference</a></li>
          <li><a href="/llxprt-code/docs/troubleshooting.html">Troubleshooting Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/index.html">CLI Introduction</a></li>
          <li><a href="/llxprt-code/docs/deployment.html">Execution and Deployment</a></li>
          <li><a href="/llxprt-code/docs/keyboard-shortcuts.html">Keyboard Shortcuts</a></li>
          <li><a href="/llxprt-code/docs/cli/themes.html">Themes</a></li>
          <li><a href="/llxprt-code/docs/EMOJI-FILTER.html">Emoji Filter</a></li>
          <li><a href="/llxprt-code/docs/cli/runtime-helpers.html">Runtime helper APIs</a></li>
          <li><a href="/llxprt-code/docs/cli/context-dumping.html">Context Dumping</a></li>
          <li><a href="/llxprt-code/docs/telemetry.html">Telemetry</a></li>
          <li><a href="/llxprt-code/docs/telemetry-privacy.html">Telemetry Privacy</a></li>
          <li><a href="/llxprt-code/docs/gemini-cli-tips.html">Migration from Gemini CLI</a></li>
          <li><a href="/llxprt-code/docs/architecture.html">Architecture Overview</a></li>
          <li><a href="/llxprt-code/docs/core/index.html">Core Introduction</a></li>
          <li><a href="/llxprt-code/docs/core/provider-runtime-context.html">Provider runtime context</a></li>
          <li><a href="/llxprt-code/docs/core/provider-interface.html">Provider interface</a></li>
          <li><a href="/llxprt-code/docs/core/tools-api.html">Tools API</a></li>
          <li><a href="/llxprt-code/docs/core/memport.html">Memory Import Processor</a></li>
          <li><a href="/llxprt-code/docs/shell-replacement.html">Shell Replacement</a></li>
          <li><a href="/llxprt-code/docs/../CONTRIBUTING.html">Contributing & Development Guide</a></li>
          <li><a href="/llxprt-code/docs/npm.html">NPM Workspaces and Publishing</a></li>
          <li><a href="/llxprt-code/docs/migration/stateless-provider.html">Stateless provider migration</a></li>
          <li><a href="/llxprt-code/docs/tools/index.html">Tools Overview</a></li>
          <li><a href="/llxprt-code/docs/tools/file-system.html">File System Tools</a></li>
          <li><a href="/llxprt-code/docs/tools/multi-file.html">Multi-File Read Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/shell.html">Shell Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/mcp-server.html">MCP Server</a></li>
          <li><a href="/llxprt-code/docs/tools/web-fetch.html">Web Fetch Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/web-search.html">Web Search Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/memory.html">Memory Tool</a></li>
          <li><a href="/llxprt-code/docs/release-notes/stateless-provider.html">Release notes: Stateless Provider</a></li>
          <li><a href="/llxprt-code/docs/tos-privacy.html">Terms of Service and Privacy Notice</a></li>
        </ul>
      </nav>
        <div class="docs-content">
          <div class="blog-post-content">
            <h1>Context Dumping</h1>
<p>The <code>/dumpcontext</code> command captures complete API request/response data for debugging provider interactions. Dumps are saved in OpenAI-compliant JSON format, making them easy to replay with curl or analyze for troubleshooting.</p>
<h2>Quick Start</h2>
<pre><code class="language-bash"># In an interactive session, enable dumping for the next request only
/dumpcontext now

# Enable dumping for all requests
/dumpcontext on

# Enable dumping only when errors occur
/dumpcontext error

# Check current status
/dumpcontext status

# Disable dumping
/dumpcontext off
</code></pre>
<h2>Command Options</h2>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>now</code></td>
<td>Dump context on the next request only</td>
</tr>
<tr>
<td><code>status</code></td>
<td>Show current dump status (default)</td>
</tr>
<tr>
<td><code>on</code></td>
<td>Dump context before every request</td>
</tr>
<tr>
<td><code>error</code></td>
<td>Dump context only when errors occur</td>
</tr>
<tr>
<td><code>off</code></td>
<td>Disable context dumping</td>
</tr>
</tbody>
</table>
<h2>Dump Location</h2>
<p>Dumps are saved to <code>~/.llxprt/dumps/</code> with filenames in the format:</p>
<pre><code class="language-text">YYYYMMDD-HHMMSS-&lt;provider&gt;-&lt;random&gt;.json
</code></pre>
<p>Example: <code>20251208-183505-openai-asq1d9.json</code></p>
<h2>Dump File Structure</h2>
<p>Each dump file contains the complete HTTP request and response:</p>
<pre><code class="language-json">{
  &quot;provider&quot;: &quot;openai&quot;,
  &quot;timestamp&quot;: &quot;2025-12-08T18:35:05.039Z&quot;,
  &quot;request&quot;: {
    &quot;url&quot;: &quot;https://api.openai.com/v1/chat/completions&quot;,
    &quot;method&quot;: &quot;POST&quot;,
    &quot;headers&quot;: {
      &quot;Content-Type&quot;: &quot;application/json&quot;,
      &quot;User-Agent&quot;: &quot;llxprt-code&quot;
    },
    &quot;body&quot;: {
      &quot;model&quot;: &quot;gpt-4&quot;,
      &quot;messages&quot;: [...],
      &quot;tools&quot;: [...],
      &quot;stream&quot;: false,
      &quot;tool_choice&quot;: &quot;auto&quot;,
      &quot;temperature&quot;: 1
    }
  },
  &quot;response&quot;: {
    &quot;status&quot;: 200,
    &quot;headers&quot;: {...},
    &quot;body&quot;: {...}
  }
}
</code></pre>
<p><strong>Note:</strong> The <code>Authorization</code> header is intentionally omitted from dumps for security.</p>
<h2>Using Dumps with curl</h2>
<p>Dumps are OpenAI API compliant and can be replayed with curl. Since the dump includes metadata alongside the request body, extract the body first:</p>
<h3>Extract and Send Request</h3>
<pre><code class="language-bash"># Extract the request body and send to the API
jq '.request.body' ~/.llxprt/dumps/YOUR_DUMP.json &gt; /tmp/body.json

curl -X POST &quot;$(jq -r '.request.url' ~/.llxprt/dumps/YOUR_DUMP.json)&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -H &quot;Authorization: Bearer $OPENAI_API_KEY&quot; \
  -d @/tmp/body.json
</code></pre>
<h3>One-liner Alternative</h3>
<pre><code class="language-bash"># Pipe the body directly to curl
jq '.request.body' ~/.llxprt/dumps/YOUR_DUMP.json | \
  curl -X POST &quot;https://api.openai.com/v1/chat/completions&quot; \
    -H &quot;Content-Type: application/json&quot; \
    -H &quot;Authorization: Bearer $OPENAI_API_KEY&quot; \
    -d @-
</code></pre>
<h3>Using with Different Providers</h3>
<p>For OpenAI-compatible providers (like local models or alternative endpoints):</p>
<pre><code class="language-bash"># Extract URL from dump and use with custom auth
DUMP=~/.llxprt/dumps/YOUR_DUMP.json
jq '.request.body' &quot;$DUMP&quot; | \
  curl -X POST &quot;$(jq -r '.request.url' &quot;$DUMP&quot;)&quot; \
    -H &quot;Content-Type: application/json&quot; \
    -H &quot;Authorization: Bearer $YOUR_API_KEY&quot; \
    -d @-
</code></pre>
<h2>Analyzing Dumps</h2>
<h3>View Request Summary</h3>
<pre><code class="language-bash"># Show provider, model, and message count
jq '{
  provider: .provider,
  model: .request.body.model,
  message_count: (.request.body.messages | length),
  tool_count: (.request.body.tools | length),
  response_status: .response.status
}' ~/.llxprt/dumps/YOUR_DUMP.json
</code></pre>
<h3>Extract Conversation History</h3>
<pre><code class="language-bash"># Show messages with roles
jq '.request.body.messages[] | {role, content: .content[:100]}' ~/.llxprt/dumps/YOUR_DUMP.json
</code></pre>
<h3>List Available Tools</h3>
<pre><code class="language-bash"># Show tool names and descriptions
jq '.request.body.tools[] | {name: .function.name, description: .function.description[:50]}' ~/.llxprt/dumps/YOUR_DUMP.json
</code></pre>
<h3>Check Response Details</h3>
<pre><code class="language-bash"># Show response finish reason and token usage
jq '{
  finish_reason: .response.body.choices[0].finish_reason,
  usage: .response.body.usage
}' ~/.llxprt/dumps/YOUR_DUMP.json
</code></pre>
<h2>Use Cases</h2>
<h3>Debugging API Issues</h3>
<p>When encountering unexpected behavior:</p>
<ol>
<li>Enable dumping: <code>/dumpcontext on</code></li>
<li>Reproduce the issue</li>
<li>Disable dumping: <code>/dumpcontext off</code></li>
<li>Analyze the dump to see exactly what was sent/received</li>
</ol>
<h3>Comparing Provider Responses</h3>
<p>Capture the same prompt across different providers to compare:</p>
<ol>
<li>Run with provider A, dump enabled</li>
<li>Switch providers: <code>/provider openai</code></li>
<li>Run same prompt with provider B</li>
<li>Compare the dump files</li>
</ol>
<h3>Reporting Bugs</h3>
<p>Include relevant dump files (with sensitive data redacted) when reporting provider-related bugs. The dumps show exactly what LLxprt sent and what the API returned.</p>
<h3>Testing API Compatibility</h3>
<p>Use dumps to verify that OpenAI-compatible providers handle requests correctly:</p>
<pre><code class="language-bash"># Replay a known-good request against a new endpoint
jq '.request.body' dump.json | \
  curl -X POST &quot;http://localhost:1234/v1/chat/completions&quot; \
    -H &quot;Content-Type: application/json&quot; \
    -d @-
</code></pre>
<h2>Combining with Debug Logging</h2>
<p>For comprehensive debugging, combine context dumping with debug logging:</p>
<pre><code class="language-bash"># Enable both debug logging and context dumping
llxprt --debug llxprt:*

# In session
/dumpcontext on
</code></pre>
<p>This gives you:</p>
<ul>
<li><strong>Debug logs</strong>: Internal application flow and timing</li>
<li><strong>Context dumps</strong>: Exact API payloads and responses</li>
</ul>
<p>See <a href="../debug-logging.html">Debug Logging</a> for more information.</p>
<h2>Security Considerations</h2>
<ul>
<li>Authorization headers are <strong>never</strong> included in dumps</li>
<li>Dumps may contain sensitive conversation content</li>
<li>Store dumps securely and clean up when no longer needed</li>
<li>Consider redacting sensitive data before sharing dumps</li>
</ul>
<pre><code class="language-bash"># Clean up old dumps
rm ~/.llxprt/dumps/*.json

# Or keep only recent dumps
find ~/.llxprt/dumps -name &quot;*.json&quot; -mtime +7 -delete
</code></pre>

          </div>
        </div>
      </div>
    </div>
  </section>


  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>Vybestack</h4>
        <p>Beyond vibe coding. Autonomous development for ascending engineers.</p>
      </div>
      <div class="footer-section">
        <h4>Products</h4>
        <ul>
          <li><a href="/llxprt-code.html">LLxprt Code</a></li>
          <li><a href="/jefe.html">LLxprt Jefe</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Content</h4>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/#podcast">Podcast</a></li>
          <li><a href="/llxprt-code/docs/">Documentation</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Connect</h4>
        <ul class="social-links">
          <li><a href="https://github.com/vybestack/llxprt-code"><img src="/assets/github-mark-white.svg" alt="GitHub" /> </a></li>
          <li><a href="https://discord.gg/Wc6dZqWWYv"><img src="/assets/discord-mark-white.svg" alt="Discord" /></a></li>
          <li><a href="https://www.linkedin.com/company/vybestack/"><img src="/assets/linkedin-white.svg" alt="LinkedIn" /></a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Vybestack. Apache 2.0 License. Built for the terminal.</p>
    </div>
  </footer>

</body>
</html>