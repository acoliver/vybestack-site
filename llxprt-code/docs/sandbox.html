<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sandboxing in the LLxprt Code | LLxprt Code Docs</title>
  <link rel="stylesheet" href="../../vybestack.css" />
</head>
<body>

  <nav>
    <div class="nav-container">
      <div class="nav-left">
        <a href="/" class="logo">
          <img src="/assets/vybestack_logo.png" alt="Vybestack" />
        </a>
        <span class="tagline">Beyond Vibe Coding</span>
      </div>
      <div class="nav-right">
        <div class="nav-dropdown">
          <a href="/llxprt-code.html">LLxprt Code</a>
          <div class="nav-dropdown-menu">
            <a href="/llxprt-code.html">Overview</a>
            <a href="/llxprt-code/docs/">Documentation</a>
          </div>
        </div>
        <a href="/jefe.html">LLxprt Jefe</a>
        <a href="/blog/">Blog</a>
        <a href="/#podcast">Podcast</a>
        <a href="https://discord.gg/Wc6dZqWWYv" target="_blank">Discord</a>
      </div>
    </div>
  </nav>


  <section class="section docs-section">
    <div class="container-wide">
      <div class="docs-layout">

      <nav class="docs-sidebar">
        <h3><a href="/llxprt-code/docs/">Documentation</a></h3>
        <ul>
          <li><a href="/llxprt-code/docs/getting-started.html">Getting Started Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/providers.html">Provider Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/authentication.html">Authentication</a></li>
          <li><a href="/llxprt-code/docs/cli/profiles.html">Profiles</a></li>
          <li><a href="/llxprt-code/docs/subagents.html">Subagents</a></li>
          <li><a href="/llxprt-code/docs/oauth-setup.html">OAuth Setup</a></li>
          <li><a href="/llxprt-code/docs/local-models.html">Local Models</a></li>
          <li><a href="/llxprt-code/docs/zed-integration.html">Zed Editor Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/providers-openai-responses.html">OpenAI Responses API</a></li>
          <li><a href="/llxprt-code/docs/prompt-configuration.html">Prompt Configuration</a></li>
          <li><a href="/llxprt-code/docs/settings-and-profiles.html">Settings and Profiles</a></li>
          <li><a href="/llxprt-code/docs/checkpointing.html">Checkpointing</a></li>
          <li><a href="/llxprt-code/docs/extension.html">Extensions</a></li>
          <li><a href="/llxprt-code/docs/ide-integration.html">IDE Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/configuration.html">Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/commands.html">Commands Reference</a></li>
          <li><a href="/llxprt-code/docs/troubleshooting.html">Troubleshooting Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/index.html">CLI Introduction</a></li>
          <li><a href="/llxprt-code/docs/deployment.html">Execution and Deployment</a></li>
          <li><a href="/llxprt-code/docs/keyboard-shortcuts.html">Keyboard Shortcuts</a></li>
          <li><a href="/llxprt-code/docs/cli/themes.html">Themes</a></li>
          <li><a href="/llxprt-code/docs/EMOJI-FILTER.html">Emoji Filter</a></li>
          <li><a href="/llxprt-code/docs/cli/runtime-helpers.html">Runtime helper APIs</a></li>
          <li><a href="/llxprt-code/docs/cli/context-dumping.html">Context Dumping</a></li>
          <li><a href="/llxprt-code/docs/telemetry.html">Telemetry</a></li>
          <li><a href="/llxprt-code/docs/telemetry-privacy.html">Telemetry Privacy</a></li>
          <li><a href="/llxprt-code/docs/gemini-cli-tips.html">Migration from Gemini CLI</a></li>
          <li><a href="/llxprt-code/docs/architecture.html">Architecture Overview</a></li>
          <li><a href="/llxprt-code/docs/core/index.html">Core Introduction</a></li>
          <li><a href="/llxprt-code/docs/core/provider-runtime-context.html">Provider runtime context</a></li>
          <li><a href="/llxprt-code/docs/core/provider-interface.html">Provider interface</a></li>
          <li><a href="/llxprt-code/docs/core/tools-api.html">Tools API</a></li>
          <li><a href="/llxprt-code/docs/core/memport.html">Memory Import Processor</a></li>
          <li><a href="/llxprt-code/docs/sandbox.html">Sandbox Security</a></li>
          <li><a href="/llxprt-code/docs/shell-replacement.html">Shell Replacement</a></li>
          <li><a href="/llxprt-code/docs/../CONTRIBUTING.html">Contributing & Development Guide</a></li>
          <li><a href="/llxprt-code/docs/npm.html">NPM Workspaces and Publishing</a></li>
          <li><a href="/llxprt-code/docs/migration/stateless-provider.html">Stateless provider migration</a></li>
          <li><a href="/llxprt-code/docs/tools/index.html">Tools Overview</a></li>
          <li><a href="/llxprt-code/docs/tools/file-system.html">File System Tools</a></li>
          <li><a href="/llxprt-code/docs/tools/multi-file.html">Multi-File Read Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/shell.html">Shell Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/mcp-server.html">MCP Server</a></li>
          <li><a href="/llxprt-code/docs/tools/web-fetch.html">Web Fetch Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/web-search.html">Web Search Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/memory.html">Memory Tool</a></li>
          <li><a href="/llxprt-code/docs/release-notes/stateless-provider.html">Release notes: Stateless Provider</a></li>
          <li><a href="/llxprt-code/docs/tos-privacy.html">Terms of Service and Privacy Notice</a></li>
        </ul>
      </nav>
        <div class="docs-content">
          <div class="blog-post-content">
            <h1>Sandboxing in the LLxprt Code</h1>
<p>This document provides a guide to sandboxing in the LLxprt Code, including prerequisites, quickstart, and configuration.</p>
<h2>Prerequisites</h2>
<p>Before using sandboxing, you need to install and set up the LLxprt Code:</p>
<pre><code class="language-bash">npm install -g @vybestack/llxprt-code
</code></pre>
<p>To verify the installation</p>
<pre><code class="language-bash">llxprt --version
</code></pre>
<h2>Overview of sandboxing</h2>
<p>Sandboxing isolates potentially dangerous operations (such as shell commands or file modifications) from your host system, providing a security barrier between AI operations and your environment.</p>
<p>The benefits of sandboxing include:</p>
<ul>
<li><strong>Security</strong>: Prevent accidental system damage or data loss.</li>
<li><strong>Isolation</strong>: Limit file system access to project directory.</li>
<li><strong>Consistency</strong>: Ensure reproducible environments across different systems.</li>
<li><strong>Safety</strong>: Reduce risk when working with untrusted code or experimental commands.</li>
</ul>
<h2>Sandboxing methods</h2>
<p>Your ideal method of sandboxing may differ depending on your platform and your preferred container solution.</p>
<h3>1. macOS Seatbelt (macOS only)</h3>
<p>Lightweight, built-in sandboxing using <code>sandbox-exec</code>.</p>
<p><strong>Default profile</strong>: <code>permissive-open</code> - restricts writes outside project directory but allows most other operations.</p>
<h3>2. Container-based (Docker/Podman)</h3>
<p>Cross-platform sandboxing with complete process isolation.</p>
<p><strong>Note</strong>: Requires building the sandbox image locally or using a published image from your organization's registry.</p>
<h2>Quickstart</h2>
<pre><code class="language-bash"># Enable sandboxing with command flag
llxprt --sandbox &quot;analyze the code structure&quot;

# Use environment variable
export LLXPRT_SANDBOX=true
llxprt &quot;run the test suite&quot;

# Configure in settings.json
{
  &quot;sandbox&quot;: &quot;docker&quot;
}
</code></pre>
<h2>Configuration</h2>
<h3>Enable sandboxing (in order of precedence)</h3>
<ol>
<li><strong>Command flag</strong>: <code>-s</code> or <code>--sandbox</code></li>
<li><strong>Environment variable</strong>: <code>LLXPRT_SANDBOX=true|docker|podman|sandbox-exec</code></li>
<li><strong>Settings file</strong>: <code>&quot;sandbox&quot;: true</code> in <code>settings.json</code></li>
</ol>
<h3>Sandbox profiles</h3>
<p>Sandbox profiles live in <code>~/.llxprt/sandboxes/&lt;name&gt;.json</code> and are created on first run.</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load dev
llxprt --sandbox-engine podman --sandbox-profile-load dev
llxprt --sandbox-engine none
</code></pre>
<p>Profiles can set engine, image, resources, network, sshAgent, mounts, and env.</p>
<h3>SSH agent passthrough</h3>
<p>Enable SSH agent passthrough in profiles with <code>&quot;sshAgent&quot;: &quot;auto&quot;</code> or <code>&quot;sshAgent&quot;: &quot;on&quot;</code>.</p>
<p><strong>Notes:</strong></p>
<ul>
<li>Docker: works reliably by mounting <code>SSH_AUTH_SOCK</code> into <code>/ssh-agent</code>.</li>
<li>Podman Linux: uses <code>:z</code> relabeling for the socket mount.</li>
<li>Podman macOS: launchd sockets often fail inside the VM. Prefer Docker, or use a custom SSH_AUTH_SOCK path under a regular filesystem (e.g. <code>~/.llxprt/ssh-agent.sock</code>).</li>
</ul>
<h3>macOS Seatbelt profiles</h3>
<p>Built-in profiles (set via <code>SEATBELT_PROFILE</code> env var):</p>
<ul>
<li><code>permissive-open</code> (default): Write restrictions, network allowed</li>
<li><code>permissive-closed</code>: Write restrictions, no network</li>
<li><code>permissive-proxied</code>: Write restrictions, network via proxy</li>
<li><code>restrictive-open</code>: Strict restrictions, network allowed</li>
<li><code>restrictive-closed</code>: Maximum restrictions</li>
</ul>
<h3>Custom Sandbox Flags</h3>
<p>For container-based sandboxing, you can inject custom flags into the <code>docker</code> or <code>podman</code> command using the <code>SANDBOX_FLAGS</code> environment variable. This is useful for advanced configurations, such as disabling security features for specific use cases.</p>
<p><strong>Example (Podman)</strong>:</p>
<p>To disable SELinux labeling for volume mounts, you can set the following:</p>
<pre><code class="language-bash">export SANDBOX_FLAGS=&quot;--security-opt label=disable&quot;
</code></pre>
<p>Multiple flags can be provided as a space-separated string:</p>
<pre><code class="language-bash">export SANDBOX_FLAGS=&quot;--flag1 --flag2=value&quot;
</code></pre>
<h2>Linux UID/GID handling</h2>
<p>The sandbox automatically handles user permissions on Linux. Override these permissions with:</p>
<pre><code class="language-bash">export SANDBOX_SET_UID_GID=true   # Force host UID/GID
export SANDBOX_SET_UID_GID=false  # Disable UID/GID mapping
</code></pre>
<h2>Troubleshooting</h2>
<h3>Common issues</h3>
<p><strong>&quot;Operation not permitted&quot;</strong></p>
<ul>
<li>Operation requires access outside sandbox.</li>
<li>Try more permissive profile or add mount points.</li>
</ul>
<p><strong>Missing commands</strong></p>
<ul>
<li>Add to custom Dockerfile.</li>
<li>Install via <code>sandbox.bashrc</code>.</li>
</ul>
<p><strong>Network issues</strong></p>
<ul>
<li>Check sandbox profile allows network.</li>
<li>Verify proxy configuration.</li>
</ul>
<h3>Debug mode</h3>
<pre><code class="language-bash">DEBUG=1 llxprt --sandbox &quot;debug command&quot;
</code></pre>
<p><strong>Note:</strong> If you have <code>DEBUG=true</code> in a project's <code>.env</code> file, it won't affect llxprt due to automatic exclusion. Use <code>.llxprt/.env</code> files for llxprt specific debug settings.</p>
<h3>Inspect sandbox</h3>
<pre><code class="language-bash"># Check environment
llxprt --sandbox &quot;run shell command: env | grep SANDBOX&quot;

# List mounts
llxprt --sandbox &quot;run shell command: mount | grep workspace&quot;
</code></pre>
<h2>Security notes</h2>
<ul>
<li>Sandboxing reduces but doesn't eliminate all risks.</li>
<li>Use the most restrictive profile that allows your work.</li>
<li>Container overhead is minimal after first build.</li>
<li>GUI applications may not work in sandboxes.</li>
</ul>
<h2>Related documentation</h2>
<ul>
<li><a href="./cli/configuration.html">Configuration</a>: Full configuration options.</li>
<li><a href="./cli/commands.html">Commands</a>: Available commands.</li>
<li><a href="./troubleshooting.html">Troubleshooting</a>: General troubleshooting.</li>
</ul>

          </div>
        </div>
      </div>
    </div>
  </section>


  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>Vybestack</h4>
        <p>Beyond vibe coding. Autonomous development for ascending engineers.</p>
      </div>
      <div class="footer-section">
        <h4>Products</h4>
        <ul>
          <li><a href="/llxprt-code.html">LLxprt Code</a></li>
          <li><a href="/jefe.html">LLxprt Jefe</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Content</h4>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/#podcast">Podcast</a></li>
          <li><a href="/llxprt-code/docs/">Documentation</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Connect</h4>
        <ul class="footer-icons">
<li><a href="https://github.com/vybestack/llxprt-code"><img src="/assets/icons/github.svg" alt="GitHub" /> </a></li>
<li><a href="https://discord.gg/Wc6dZqWWYv"><img src="/assets/icons/discord.svg" alt="Discord" /></a></li>
<li><a href="https://www.linkedin.com/company/vybestack/"><img src="/assets/icons/linkedin.svg" alt="LinkedIn" /></a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Vybestack. Apache 2.0 License. Built for the terminal.</p>
    </div>
  </footer>

</body>
</html>