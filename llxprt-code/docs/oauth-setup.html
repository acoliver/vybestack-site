<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OAuth Setup Guide | LLxprt Code Docs</title>
  <link rel="stylesheet" href="../../vybestack.css" />
</head>
<body>

  <nav>
    <div class="nav-container">
      <div class="nav-left">
        <a href="/" class="logo">
          <img src="/assets/vybestack_logo.png" alt="Vybestack" />
        </a>
        <span class="tagline">Beyond Vibe Coding</span>
      </div>
      <div class="nav-right">
        <div class="nav-dropdown">
          <a href="/llxprt-code.html">LLxprt Code</a>
          <div class="nav-dropdown-menu">
            <a href="/llxprt-code.html">Overview</a>
            <a href="/llxprt-code/docs/">Documentation</a>
          </div>
        </div>
        <a href="/jefe.html">LLxprt Jefe</a>
        <a href="/blog/">Blog</a>
        <a href="/#podcast">Podcast</a>
        <a href="https://discord.gg/Wc6dZqWWYv" target="_blank">Discord</a>
      </div>
    </div>
  </nav>


  <section class="section docs-section">
    <div class="container-wide">
      <div class="docs-layout">

      <nav class="docs-sidebar">
        <h3><a href="/llxprt-code/docs/">Documentation</a></h3>
        <ul>
          <li><a href="/llxprt-code/docs/getting-started.html">Getting Started Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/providers.html">Provider Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/authentication.html">Authentication</a></li>
          <li><a href="/llxprt-code/docs/cli/profiles.html">Profiles</a></li>
          <li><a href="/llxprt-code/docs/subagents.html">Subagents</a></li>
          <li><a href="/llxprt-code/docs/oauth-setup.html">OAuth Setup</a></li>
          <li><a href="/llxprt-code/docs/local-models.html">Local Models</a></li>
          <li><a href="/llxprt-code/docs/zed-integration.html">Zed Editor Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/providers-openai-responses.html">OpenAI Responses API</a></li>
          <li><a href="/llxprt-code/docs/prompt-configuration.html">Prompt Configuration</a></li>
          <li><a href="/llxprt-code/docs/settings-and-profiles.html">Settings and Profiles</a></li>
          <li><a href="/llxprt-code/docs/checkpointing.html">Checkpointing</a></li>
          <li><a href="/llxprt-code/docs/extension.html">Extensions</a></li>
          <li><a href="/llxprt-code/docs/ide-integration.html">IDE Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/configuration.html">Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/commands.html">Commands Reference</a></li>
          <li><a href="/llxprt-code/docs/troubleshooting.html">Troubleshooting Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/index.html">CLI Introduction</a></li>
          <li><a href="/llxprt-code/docs/deployment.html">Execution and Deployment</a></li>
          <li><a href="/llxprt-code/docs/keyboard-shortcuts.html">Keyboard Shortcuts</a></li>
          <li><a href="/llxprt-code/docs/cli/themes.html">Themes</a></li>
          <li><a href="/llxprt-code/docs/EMOJI-FILTER.html">Emoji Filter</a></li>
          <li><a href="/llxprt-code/docs/cli/runtime-helpers.html">Runtime helper APIs</a></li>
          <li><a href="/llxprt-code/docs/cli/context-dumping.html">Context Dumping</a></li>
          <li><a href="/llxprt-code/docs/telemetry.html">Telemetry</a></li>
          <li><a href="/llxprt-code/docs/telemetry-privacy.html">Telemetry Privacy</a></li>
          <li><a href="/llxprt-code/docs/gemini-cli-tips.html">Migration from Gemini CLI</a></li>
          <li><a href="/llxprt-code/docs/architecture.html">Architecture Overview</a></li>
          <li><a href="/llxprt-code/docs/core/index.html">Core Introduction</a></li>
          <li><a href="/llxprt-code/docs/core/provider-runtime-context.html">Provider runtime context</a></li>
          <li><a href="/llxprt-code/docs/core/provider-interface.html">Provider interface</a></li>
          <li><a href="/llxprt-code/docs/core/tools-api.html">Tools API</a></li>
          <li><a href="/llxprt-code/docs/core/memport.html">Memory Import Processor</a></li>
          <li><a href="/llxprt-code/docs/sandbox.html">Sandbox Security</a></li>
          <li><a href="/llxprt-code/docs/shell-replacement.html">Shell Replacement</a></li>
          <li><a href="/llxprt-code/docs/../CONTRIBUTING.html">Contributing & Development Guide</a></li>
          <li><a href="/llxprt-code/docs/npm.html">NPM Workspaces and Publishing</a></li>
          <li><a href="/llxprt-code/docs/migration/stateless-provider.html">Stateless provider migration</a></li>
          <li><a href="/llxprt-code/docs/tools/index.html">Tools Overview</a></li>
          <li><a href="/llxprt-code/docs/tools/file-system.html">File System Tools</a></li>
          <li><a href="/llxprt-code/docs/tools/multi-file.html">Multi-File Read Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/shell.html">Shell Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/mcp-server.html">MCP Server</a></li>
          <li><a href="/llxprt-code/docs/tools/web-fetch.html">Web Fetch Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/web-search.html">Web Search Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/memory.html">Memory Tool</a></li>
          <li><a href="/llxprt-code/docs/release-notes/stateless-provider.html">Release notes: Stateless Provider</a></li>
          <li><a href="/llxprt-code/docs/tos-privacy.html">Terms of Service and Privacy Notice</a></li>
        </ul>
      </nav>
        <div class="docs-content">
          <div class="blog-post-content">
            <h1>OAuth Setup Guide</h1>
<p>This guide explains how to set up OAuth authentication for various AI providers in llxprt-code.</p>
<h2>Overview</h2>
<p>llxprt-code supports OAuth 2.0 authentication for multiple providers:</p>
<ul>
<li><strong>Gemini</strong> (Google AI) - Browser-based OAuth flow</li>
<li><strong>Anthropic</strong> - Authorization code via dialog</li>
<li><strong>OpenAI</strong> (Codex) - Browser-based OAuth flow for ChatGPT Plus/Pro subscribers</li>
<li><strong>Qwen</strong> (Alibaba Cloud) - Device code flow</li>
</ul>
<p>OAuth provides secure authentication without requiring API keys, offering better security and user experience.</p>
<p><strong>Important:</strong> All OAuth authentication is lazy - the authentication flow only starts when you make your first API request to the provider, not when you enable OAuth.</p>
<h2>Authentication Precedence</h2>
<p>The system uses the following authentication precedence (highest to lowest):</p>
<ol>
<li><strong>Command line API key</strong> (<code>--key</code>/<code>--keyfile</code> flags or <code>--set auth-key=...</code>)</li>
<li><strong>Profiles / settings files</strong> (values saved via <code>/profile save</code> or <code>settings.json</code>)</li>
<li><strong>Environment variables</strong> (<code>OPENAI_API_KEY</code>, <code>GEMINI_API_KEY</code>, etc.)</li>
<li><strong>OAuth tokens</strong> (stored securely in <code>~/.llxprt/oauth/</code>)</li>
</ol>
<h2>Setting Up OAuth</h2>
<h3>Using the Auth Command</h3>
<p>The <code>/auth</code> command manages OAuth authentication for all providers:</p>
<pre><code class="language-bash"># Show OAuth authentication menu/status
/auth

# Enable OAuth for a provider (authentication happens on first use)
/auth gemini enable
/auth anthropic enable
/auth codex enable
/auth qwen enable

# Disable OAuth for a provider
/auth gemini disable
/auth anthropic disable
/auth codex disable
/auth qwen disable

# Log out from a provider (clears stored tokens)
/auth gemini logout
/auth anthropic logout
/auth codex logout
/auth qwen logout
</code></pre>
<h3>Gemini OAuth Setup</h3>
<ol>
<li>
<p>Enable OAuth for Gemini:</p>
<pre><code class="language-bash">/auth gemini enable
</code></pre>
</li>
<li>
<p>Make your first request to Gemini (e.g., send a message)</p>
</li>
<li>
<p>Browser will open automatically for authentication</p>
</li>
<li>
<p>Grant permissions to llxprt-code</p>
</li>
<li>
<p>Authentication complete!</p>
</li>
</ol>
<h3>Anthropic OAuth Setup</h3>
<ol>
<li>
<p>Enable OAuth for Anthropic:</p>
<pre><code class="language-bash">/auth anthropic enable
</code></pre>
</li>
<li>
<p>Make your first request to Anthropic</p>
</li>
<li>
<p>A dialog will appear asking for your authorization code</p>
</li>
<li>
<p>Go to <a href="https://console.anthropic.com/settings/oauth">https://console.anthropic.com/settings/oauth</a> to get your code</p>
</li>
<li>
<p>Paste the code into the dialog</p>
</li>
<li>
<p>Authentication complete!</p>
</li>
</ol>
<h3>OpenAI Codex OAuth Setup (ChatGPT Plus/Pro)</h3>
<p>If you have a ChatGPT Plus or Pro subscription, you can authenticate using OAuth:</p>
<ol>
<li>
<p>Enable OAuth for OpenAI:</p>
<pre><code class="language-bash">/auth codex enable
</code></pre>
</li>
<li>
<p>Make your first request to OpenAI</p>
</li>
<li>
<p>Browser will open to ChatGPT login page</p>
</li>
<li>
<p>Sign in with your ChatGPT Plus/Pro account</p>
</li>
<li>
<p>Authorize llxprt-code to access your account</p>
</li>
<li>
<p>Authentication complete!</p>
</li>
</ol>
<p><strong>Note:</strong> This requires an active ChatGPT Plus ($20/month) or Pro subscription. For pay-per-token API access, use API keys instead.</p>
<h3>Qwen OAuth Setup</h3>
<ol>
<li>
<p>Enable OAuth for Qwen:</p>
<pre><code class="language-bash">/auth qwen enable
</code></pre>
</li>
<li>
<p>Make your first request to Qwen</p>
</li>
<li>
<p>You'll see a device code and URL (device code flow):</p>
<pre><code>Device code: ABC-DEF-123
Visit: https://oauth.qwen.alibaba.com/device
Enter code: ABC-DEF-123
</code></pre>
</li>
<li>
<p>Open the URL in your browser</p>
</li>
<li>
<p>Enter the device code when prompted</p>
</li>
<li>
<p>Grant permissions to llxprt-code</p>
</li>
<li>
<p>Authentication completes automatically</p>
</li>
</ol>
<h2>Multi-Provider Authentication</h2>
<p>You can enable OAuth for multiple providers simultaneously:</p>
<pre><code class="language-bash">/auth gemini enable     # Enable Gemini OAuth
/auth anthropic enable  # Enable Anthropic OAuth
/auth codex enable     # Enable OpenAI Codex OAuth
/auth qwen enable       # Enable Qwen OAuth
</code></pre>
<p>Each provider:</p>
<ul>
<li>Stores tokens separately and securely</li>
<li>Authenticates lazily on first use</li>
<li>Maintains independent authentication state</li>
</ul>
<h2>Authentication Status</h2>
<p>Check your current authentication status:</p>
<pre><code class="language-bash">/auth
</code></pre>
<p>This shows:</p>
<ul>
<li>✓ Authenticated providers with expiry time</li>
<li>✗ Unauthenticated providers</li>
<li>Auth method (oauth, api-key, etc.)</li>
</ul>
<h2>Token Management</h2>
<h3>Token Storage</h3>
<p>OAuth tokens are stored as plain JSON files:</p>
<ul>
<li><strong>Location</strong>: <code>~/.llxprt/oauth/</code></li>
<li><strong>Files</strong>:
<ul>
<li><code>gemini.json</code> - Gemini OAuth tokens</li>
<li><code>anthropic.json</code> - Anthropic OAuth tokens</li>
<li><code>codex.json</code> - OpenAI Codex OAuth tokens</li>
<li><code>qwen.json</code> - Qwen OAuth tokens</li>
</ul>
</li>
<li><strong>Permissions</strong>: <code>0600</code> (user read/write only)</li>
<li><strong>Note</strong>: Tokens are stored as plain text JSON files. For enhanced security in production environments, consider using system keychains or encrypted storage.</li>
</ul>
<h3>Automatic Refresh</h3>
<p>Tokens are automatically refreshed when:</p>
<ul>
<li>They expire within 30 seconds</li>
<li>An API call is made with an expired token</li>
<li>The system detects token expiration</li>
</ul>
<h3>Manual Token Removal</h3>
<p>To remove a provider's OAuth token:</p>
<pre><code class="language-bash">rm ~/.llxprt/oauth/{provider}.json
</code></pre>
<h2>Troubleshooting</h2>
<h3>Authentication Timeout</h3>
<p>Different providers have different timeout behaviors:</p>
<ol>
<li><strong>Gemini</strong>: No timeout - browser flow waits for user</li>
<li><strong>Anthropic</strong>: Dialog waits indefinitely for code input</li>
<li><strong>OpenAI</strong>: No timeout - browser flow waits for user</li>
<li><strong>Qwen</strong>: Device flow has polling timeout (typically 5-15 minutes)</li>
<li><strong>Solution</strong>: Complete authentication promptly after initiating</li>
</ol>
<h3>Token Refresh Issues</h3>
<p>If token refresh fails:</p>
<ol>
<li><strong>Re-authenticate</strong>: Run <code>/auth {provider}</code> again</li>
<li><strong>Check</strong>: Provider service status</li>
<li><strong>Verify</strong>: Network connectivity</li>
</ol>
<h3>Permission Errors</h3>
<p>If you see file permission errors:</p>
<pre><code class="language-bash"># Fix OAuth directory permissions
chmod 700 ~/.llxprt/oauth/
chmod 600 ~/.llxprt/oauth/*.json
</code></pre>
<h3>Browser Issues</h3>
<p>For browser-related problems:</p>
<ol>
<li><strong>Manual URL</strong>: Copy the OAuth URL and open manually</li>
<li><strong>Different Browser</strong>: Try a different browser</li>
<li><strong>Private Mode</strong>: Use incognito/private browsing mode</li>
</ol>
<h2>Security Considerations</h2>
<h3>Token Security</h3>
<ul>
<li>Tokens are stored with <code>0600</code> permissions (user-only access)</li>
<li>No tokens are logged or displayed in plain text</li>
<li>Automatic refresh minimizes token exposure time</li>
</ul>
<h3>OAuth vs API Keys</h3>
<p>OAuth provides better security than API keys:</p>
<ul>
<li><strong>Scoped Access</strong>: Limited to specific operations</li>
<li><strong>Revocable</strong>: Can be revoked from provider console</li>
<li><strong>Temporary</strong>: Automatic expiration and refresh</li>
<li><strong>No Secrets</strong>: No long-lived credentials in files</li>
</ul>
<h3>Best Practices</h3>
<ol>
<li><strong>Regular Cleanup</strong>: Remove unused provider tokens</li>
<li><strong>Secure Storage</strong>: Keep <code>~/.llxprt/</code> directory secure</li>
<li><strong>Monitor Access</strong>: Review OAuth grants in provider consoles</li>
<li><strong>Use OAuth</strong>: Prefer OAuth over API keys when available</li>
</ol>
<h2>Migration Guide</h2>
<h3>From API Keys to OAuth</h3>
<p>If you're currently using API keys:</p>
<ol>
<li><strong>Current Setup</strong>: API keys continue to work</li>
<li><strong>Add OAuth</strong>: Run <code>/auth {provider}</code> for OAuth setup</li>
<li><strong>Precedence</strong>: API keys take precedence over OAuth</li>
<li><strong>Remove API Keys</strong>: Unset environment variables to use OAuth</li>
<li><strong>Test</strong>: Verify functionality with OAuth</li>
</ol>
<p>Example migration:</p>
<pre><code class="language-bash"># Before: Using API key
export OPENAI_API_KEY=&quot;sk-...&quot;

# Add OAuth (optional)
/auth qwen

# Remove API key to use OAuth
unset OPENAI_API_KEY

# Verify OAuth is working
/auth  # Should show qwen as authenticated
</code></pre>
<h3>Existing Gemini Users</h3>
<p>If you already have Gemini OAuth:</p>
<ol>
<li><strong>No Changes</strong>: Existing Gemini OAuth continues working</li>
<li><strong>Add Qwen</strong>: Run <code>/auth qwen</code> to add Qwen support</li>
<li><strong>Multi-Provider</strong>: Both providers work simultaneously</li>
<li><strong>Cross-Compatible</strong>: Use Qwen content with Gemini tools</li>
</ol>
<h2>Command Reference</h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/auth</code></td>
<td>Show OAuth authentication menu/status</td>
</tr>
<tr>
<td><code>/auth &lt;provider&gt; enable</code></td>
<td>Enable OAuth for provider</td>
</tr>
<tr>
<td><code>/auth &lt;provider&gt; disable</code></td>
<td>Disable OAuth for provider</td>
</tr>
<tr>
<td><code>/auth &lt;provider&gt; logout</code></td>
<td>Clear OAuth tokens for provider</td>
</tr>
</tbody>
</table>
<p>Supported providers: <code>gemini</code>, <code>anthropic</code>, <code>codex</code>, <code>qwen</code></p>
<h2>File Locations</h2>
<table>
<thead>
<tr>
<th>File/Directory</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>~/.llxprt/oauth/</code></td>
<td>OAuth token storage directory</td>
</tr>
<tr>
<td><code>~/.llxprt/oauth/gemini.json</code></td>
<td>Gemini OAuth tokens</td>
</tr>
<tr>
<td><code>~/.llxprt/oauth/anthropic.json</code></td>
<td>Anthropic OAuth tokens</td>
</tr>
<tr>
<td><code>~/.llxprt/oauth/codex.json</code></td>
<td>OpenAI Codex OAuth tokens</td>
</tr>
<tr>
<td><code>~/.llxprt/oauth/qwen.json</code></td>
<td>Qwen OAuth tokens</td>
</tr>
</tbody>
</table>
<h2>Support</h2>
<p>For additional help:</p>
<ol>
<li><strong>Documentation</strong>: Check <code>/docs</code> command in llxprt-code</li>
<li><strong>Issues</strong>: Report problems on GitHub</li>
<li><strong>Provider Support</strong>: Contact provider for OAuth service issues</li>
</ol>

          </div>
        </div>
      </div>
    </div>
  </section>


  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>Vybestack</h4>
        <p>Beyond vibe coding. Autonomous development for ascending engineers.</p>
      </div>
      <div class="footer-section">
        <h4>Products</h4>
        <ul>
          <li><a href="/llxprt-code.html">LLxprt Code</a></li>
          <li><a href="/jefe.html">LLxprt Jefe</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Content</h4>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/#podcast">Podcast</a></li>
          <li><a href="/llxprt-code/docs/">Documentation</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Connect</h4>
        <ul class="footer-icons">
<li><a href="https://github.com/vybestack/llxprt-code"><img src="/assets/icons/github.svg" alt="GitHub" /> </a></li>
<li><a href="https://discord.gg/Wc6dZqWWYv"><img src="/assets/icons/discord.svg" alt="Discord" /></a></li>
<li><a href="https://www.linkedin.com/company/vybestack/"><img src="/assets/icons/linkedin.svg" alt="LinkedIn" /></a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Vybestack. Apache 2.0 License. Built for the terminal.</p>
    </div>
  </footer>

</body>
</html>