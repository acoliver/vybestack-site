<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial: Set up sandboxing for real development work | LLxprt Code Docs</title>
  <link rel="stylesheet" href="../../../vybestack.css" />
</head>
<body>

  <nav>
    <div class="nav-container">
      <div class="nav-left">
        <a href="/" class="logo">
          <img src="/assets/vybestack_logo.png" alt="Vybestack" />
        </a>
        <span class="tagline">Beyond Vibe Coding</span>
      </div>
      <div class="nav-right">
        <a href="/llxprt-code.html">LLxprt Code</a>
        <a href="/jefe.html">LLxprt Jefe</a>
        <a href="/llxprt-code/docs/">Docs</a>
        <a href="/blog/">Blog</a>
        <a href="/#podcast">Podcast</a>
        <a href="https://discord.gg/Wc6dZqWWYv" target="_blank">Discord</a>
      </div>
    </div>
  </nav>


  <section class="section docs-section">
    <div class="container-wide">
      <div class="docs-layout">

      <nav class="docs-sidebar">
        <h3><a href="/llxprt-code/docs/">Documentation</a></h3>
        <ul>
          <li><a href="/llxprt-code/docs/getting-started.html">Getting Started Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/providers.html">Provider Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/authentication.html">Authentication</a></li>
          <li><a href="/llxprt-code/docs/cli/profiles.html">Profiles</a></li>
          <li><a href="/llxprt-code/docs/sandbox.html">Sandboxing</a></li>
          <li><a href="/llxprt-code/docs/subagents.html">Subagents</a></li>
          <li><a href="/llxprt-code/docs/oauth-setup.html">OAuth Setup</a></li>
          <li><a href="/llxprt-code/docs/local-models.html">Local Models</a></li>
          <li><a href="/llxprt-code/docs/zed-integration.html">Zed Editor Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/providers-openai-responses.html">OpenAI Responses API</a></li>
          <li><a href="/llxprt-code/docs/prompt-configuration.html">Prompt Configuration</a></li>
          <li><a href="/llxprt-code/docs/settings-and-profiles.html">Settings and Profiles</a></li>
          <li><a href="/llxprt-code/docs/checkpointing.html">Checkpointing</a></li>
          <li><a href="/llxprt-code/docs/extension.html">Extensions</a></li>
          <li><a href="/llxprt-code/docs/ide-integration.html">IDE Integration</a></li>
          <li><a href="/llxprt-code/docs/cli/configuration.html">Configuration</a></li>
          <li><a href="/llxprt-code/docs/cli/commands.html">Commands Reference</a></li>
          <li><a href="/llxprt-code/docs/troubleshooting.html">Troubleshooting Guide</a></li>
          <li><a href="/llxprt-code/docs/cli/index.html">CLI Introduction</a></li>
          <li><a href="/llxprt-code/docs/deployment.html">Execution and Deployment</a></li>
          <li><a href="/llxprt-code/docs/keyboard-shortcuts.html">Keyboard Shortcuts</a></li>
          <li><a href="/llxprt-code/docs/cli/themes.html">Themes</a></li>
          <li><a href="/llxprt-code/docs/EMOJI-FILTER.html">Emoji Filter</a></li>
          <li><a href="/llxprt-code/docs/cli/runtime-helpers.html">Runtime helper APIs</a></li>
          <li><a href="/llxprt-code/docs/cli/context-dumping.html">Context Dumping</a></li>
          <li><a href="/llxprt-code/docs/telemetry.html">Telemetry</a></li>
          <li><a href="/llxprt-code/docs/telemetry-privacy.html">Telemetry Privacy</a></li>
          <li><a href="/llxprt-code/docs/gemini-cli-tips.html">Migration from Gemini CLI</a></li>
          <li><a href="/llxprt-code/docs/architecture.html">Architecture Overview</a></li>
          <li><a href="/llxprt-code/docs/core/index.html">Core Introduction</a></li>
          <li><a href="/llxprt-code/docs/core/provider-runtime-context.html">Provider runtime context</a></li>
          <li><a href="/llxprt-code/docs/core/provider-interface.html">Provider interface</a></li>
          <li><a href="/llxprt-code/docs/core/tools-api.html">Tools API</a></li>
          <li><a href="/llxprt-code/docs/core/memport.html">Memory Import Processor</a></li>
          <li><a href="/llxprt-code/docs/shell-replacement.html">Shell Replacement</a></li>
          <li><a href="/llxprt-code/docs/../CONTRIBUTING.html">Contributing & Development Guide</a></li>
          <li><a href="/llxprt-code/docs/npm.html">NPM Workspaces and Publishing</a></li>
          <li><a href="/llxprt-code/docs/migration/stateless-provider.html">Stateless provider migration</a></li>
          <li><a href="/llxprt-code/docs/tools/index.html">Tools Overview</a></li>
          <li><a href="/llxprt-code/docs/tools/file-system.html">File System Tools</a></li>
          <li><a href="/llxprt-code/docs/tools/multi-file.html">Multi-File Read Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/shell.html">Shell Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/mcp-server.html">MCP Server</a></li>
          <li><a href="/llxprt-code/docs/tools/web-fetch.html">Web Fetch Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/web-search.html">Web Search Tool</a></li>
          <li><a href="/llxprt-code/docs/tools/memory.html">Memory Tool</a></li>
          <li><a href="/llxprt-code/docs/release-notes/stateless-provider.html">Release notes: Stateless Provider</a></li>
          <li><a href="/llxprt-code/docs/tos-privacy.html">Terms of Service and Privacy Notice</a></li>
        </ul>
      </nav>
        <div class="docs-content">
          <div class="blog-post-content">
            <h1>Tutorial: Set up sandboxing for real development work</h1>
<p>This tutorial is for developers who want to run llxprt with sandbox protection turned on by default, then validate login and key behavior without guessing.</p>
<p>Focus: Linux and macOS.</p>
<p>Windows is not tested yet for this workflow. Contributions are welcome.</p>
<p>Time: about 15-20 minutes.</p>
<h2>Why this is worth doing</h2>
<p>If you use llxprt on external repos, PRs, or shell-heavy tasks, sandboxing gives you practical safety wins:</p>
<ul>
<li>commands run in a container instead of directly on your host</li>
<li>resource limits reduce runaway CPU/memory/process usage</li>
<li>OAuth refresh tokens stay on host via credential proxy</li>
<li>key management writes are blocked inside sandbox mode</li>
</ul>
<p>You keep velocity, but with better guardrails.</p>
<h2>Prerequisites</h2>
<ul>
<li>Node.js 20+</li>
<li><code>llxprt</code> installed</li>
<li>one working runtime:
<ul>
<li>Docker (macOS/Linux), or</li>
<li>Podman (macOS/Linux)</li>
</ul>
</li>
</ul>
<h2>Step 1: verify your runtime</h2>
<h3>Docker</h3>
<pre><code class="language-bash">docker --version
docker ps
</code></pre>
<p>If <code>docker ps</code> fails, start Docker daemon/Desktop first.</p>
<h3>Podman (Linux)</h3>
<pre><code class="language-bash">podman --version
podman run --rm hello-world
</code></pre>
<h3>Podman (macOS)</h3>
<pre><code class="language-bash">podman --version
podman machine start
podman machine ls
</code></pre>
<h2>Step 2: run your first sandboxed command</h2>
<pre><code class="language-bash">cd your-project
llxprt --sandbox &quot;list the files in this directory&quot;
</code></pre>
<p>What happened:</p>
<ol>
<li>runtime selected (Docker/Podman/Seatbelt depending on config and platform)</li>
<li>sandbox container launched</li>
<li>project mounted</li>
<li>command executed from sandboxed context</li>
</ol>
<h2>Step 3: load a profile (this implies sandbox mode)</h2>
<p>You do not need <code>--sandbox</code> when using <code>--sandbox-profile-load</code>.</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load dev &quot;show sandbox environment&quot;
</code></pre>
<p>Try strict mode for untrusted code:</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load safe &quot;analyze this external repository&quot;
</code></pre>
<h2>Step 4: validate network behavior</h2>
<p><code>dev</code> profile has network on:</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load dev &quot;run shell command: curl -I https://example.com&quot;
</code></pre>
<p><code>safe</code> profile has network off:</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load safe &quot;run shell command: curl -I https://example.com&quot;
</code></pre>
<p>The second command should fail due to disabled network.</p>
<h2>Step 5: validate SSH passthrough for git workflows</h2>
<p>Check host agent first:</p>
<pre><code class="language-bash">echo $SSH_AUTH_SOCK
ssh-add -l
</code></pre>
<p>If needed:</p>
<pre><code class="language-bash">eval &quot;$(ssh-agent -s)&quot;
ssh-add ~/.ssh/id_ed25519
</code></pre>
<p>Then test inside sandbox:</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load dev &quot;run shell command: ssh-add -l&quot;
</code></pre>
<p>If keys appear, SSH passthrough is working.</p>
<h3>Podman on macOS: reliable socket setup</h3>
<p>If forwarding fails with launchd socket paths, switch to a dedicated socket:</p>
<pre><code class="language-bash">ssh-agent -a ~/.llxprt/ssh-agent.sock
export SSH_AUTH_SOCK=~/.llxprt/ssh-agent.sock
ssh-add ~/.ssh/id_ed25519
llxprt --sandbox-engine podman --sandbox-profile-load dev
</code></pre>
<h2>Step 6: validate login and credential proxy behavior</h2>
<p>Start interactive sandbox session:</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load dev
</code></pre>
<p>Then inside session:</p>
<pre><code class="language-text">/auth anthropic enable
/auth anthropic login
</code></pre>
<p>(Use another provider if preferred, e.g. <code>/auth gemini enable</code> then <code>/auth gemini login</code>.)</p>
<p>What to expect:</p>
<ul>
<li>login flow is initiated from sandbox session</li>
<li>host handles secure token exchange and refresh storage</li>
<li>sandbox receives usable short-lived credentials via proxy</li>
</ul>
<p>Check socket env inside sandbox:</p>
<pre><code class="language-text">run shell command: echo $LLXPRT_CREDENTIAL_SOCKET
</code></pre>
<p>If set, proxy path is active.</p>
<h2>Step 7: validate key command behavior (host vs sandbox)</h2>
<h3>On host (non-sandbox session)</h3>
<pre><code class="language-bash">llxprt
</code></pre>
<p>Then:</p>
<pre><code class="language-text">/key save workkey sk-your-key-value
/key list
/key load workkey
</code></pre>
<h3>In sandbox session</h3>
<ul>
<li><code>/key list</code> and <code>/key load workkey</code> should work</li>
<li><code>/key save ...</code> and <code>/key delete ...</code> should be blocked</li>
</ul>
<p>This is expected and protects host key storage from sandbox writes.</p>
<h2>Step 8: create your own profile</h2>
<p>Create <code>~/.llxprt/sandboxes/custom.json</code>:</p>
<pre><code class="language-json">{
  &quot;engine&quot;: &quot;docker&quot;,
  &quot;resources&quot;: {
    &quot;cpus&quot;: 4,
    &quot;memory&quot;: &quot;8g&quot;,
    &quot;pids&quot;: 512
  },
  &quot;network&quot;: &quot;on&quot;,
  &quot;sshAgent&quot;: &quot;auto&quot;,
  &quot;mounts&quot;: [
    {
      &quot;from&quot;: &quot;~/.npmrc&quot;,
      &quot;to&quot;: &quot;/home/node/.npmrc&quot;,
      &quot;mode&quot;: &quot;ro&quot;
    }
  ]
}
</code></pre>
<p>Use it:</p>
<pre><code class="language-bash">llxprt --sandbox-profile-load custom &quot;help me with this project&quot;
</code></pre>
<h2>Step 9: quick troubleshooting</h2>
<h3>image pull/load issues</h3>
<p>Symptom:</p>
<p><code>Sandbox image '&lt;image&gt;' is missing or could not be pulled.</code></p>
<p>Check:</p>
<pre><code class="language-bash">docker images | grep 'vybestack/llxprt-code/sandbox'
# or
podman images | grep 'vybestack/llxprt-code/sandbox'
</code></pre>
<p>The default image comes from current release config (<code>ghcr.io/vybestack/llxprt-code/sandbox:&lt;version&gt;</code>).</p>
<h3>credential proxy startup issue</h3>
<p>Symptom:</p>
<p><code>Failed to start credential proxy: ...</code></p>
<p>Typical fixes:</p>
<ul>
<li>Linux: verify keyring service is running/unlocked</li>
<li>macOS: ensure Keychain access is available</li>
<li>temporary fallback: run with <code>--key</code> for immediate work</li>
</ul>
<h3>Podman macOS VM issue</h3>
<p>Symptom:</p>
<p><code>cannot connect to Podman socket</code></p>
<p>Fix:</p>
<pre><code class="language-bash">podman machine start
podman machine ls
</code></pre>
<p>If stuck:</p>
<pre><code class="language-bash">podman machine stop
podman machine rm
podman machine init
podman machine start
</code></pre>
<h2>Recommended daily pattern</h2>
<ul>
<li>trusted project work: <code>--sandbox-profile-load dev</code></li>
<li>unknown or external code: <code>--sandbox-profile-load safe</code></li>
<li>force runtime only when needed: <code>--sandbox-engine docker|podman</code></li>
<li>disable sandbox only intentionally: <code>--sandbox-engine none</code></li>
</ul>
<h2>Next docs</h2>
<ul>
<li><a href="../sandbox.html">Sandbox overview</a></li>
<li><a href="../cli/sandbox-profiles.html">Sandbox profiles reference</a></li>
<li><a href="../cli/authentication.html">Authentication</a></li>
<li><a href="../troubleshooting.html">Troubleshooting</a></li>
</ul>

          </div>
        </div>
      </div>
    </div>
  </section>


  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>Vybestack</h4>
        <p>Beyond vibe coding. Autonomous development for ascending engineers.</p>
      </div>
      <div class="footer-section">
        <h4>Products</h4>
        <ul>
          <li><a href="/llxprt-code.html">LLxprt Code</a></li>
          <li><a href="/jefe.html">LLxprt Jefe</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Content</h4>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/#podcast">Podcast</a></li>
          <li><a href="/llxprt-code/docs/">Documentation</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Connect</h4>
        <ul class="social-links">
          <li><a href="https://github.com/vybestack/llxprt-code"><img src="/assets/github-mark-white.svg" alt="GitHub" /> </a></li>
          <li><a href="https://discord.gg/Wc6dZqWWYv"><img src="/assets/discord-mark-white.svg" alt="Discord" /></a></li>
          <li><a href="https://www.linkedin.com/company/vybestack/"><img src="/assets/linkedin-white.svg" alt="LinkedIn" /></a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 Vybestack. Apache 2.0 License. Built for the terminal.</p>
    </div>
  </footer>

</body>
</html>